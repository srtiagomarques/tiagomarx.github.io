(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{yy64:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("mrSG"),i=u("ZZ/e"),r=u("gwMv"),o=u("VFRK"),a=u("VPMT"),s=u("Zkqg"),c=u("68on"),b=function(){function l(l,n,u){this.popoverController=l,this.api=n,this.utils=u,this.logHeader="ExchangePage>>",this.rewards=new Array,this.rewardList=new Array,this.shoppingCart=new Array,this.imageConcatString=a.a.generateRandomString(),this.getRewards()}return l.prototype.getRewards=function(){var l=this;this.api.getActiveRewards().then(function(n){l.imageConcatString=a.a.generateRandomString();for(var u=new Array,t=0,e=n;t<e.length;t++)u.push(new o.a(e[t]));l.rewards=u,l.rewardList=l.rewards}).catch(function(n){return l.utils.simpleToast(n+"\n"+s.h.SOMETHING_WENT_WRONG)})},l.prototype.filter=function(l){if(a.a.log(this.logHeader+"filter>>"),a.a.isStringInvalid(l))this.rewardList=this.rewards;else{var n=l;this.searchTerm=n,this.rewardList=n?this.rewards.filter(function(l){return l.getPremio().getNome().toLowerCase().includes(n.toLowerCase())||l.getPremio().getDescricao().toLowerCase().includes(n.toLowerCase())}):this.rewards}},l.prototype.incrementQty=function(l){(l.getPremio().getQuantidade()>l.getQuantidade()||a.a.isVarInvalid(l.getPremio().getQuantidade()))&&l.addQuantidade(1)},l.prototype.decrementQty=function(l){l.getQuantidade()>0&&l.addQuantidade(-1)},l.prototype.openCart=function(l){return e.b(this,void 0,void 0,function(){return e.e(this,function(n){switch(n.label){case 0:return a.a.isArrayInvalid(this.shoppingCart)?[3,3]:[4,this.popoverController.create({component:r.a,event:l,translucent:!0,cssClass:"pop-over-style",componentProps:{cart:this.shoppingCart}})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()];case 3:this.utils.simpleToastError(s.h.CART_EMPTY),n.label=4;case 4:return[2]}})})},l.prototype.addToCart=function(l){a.a.log(this.logHeader+"addToCart>>");var n=this.shoppingCart.filter(function(n){return n.getPremio().getId()==l.getPremio().getId()})[0],u=new Array;a.a.isVarInvalid(n)||(u=this.shoppingCart.splice(this.shoppingCart.indexOf(n),1)),l.getQuantidade()>0?(this.shoppingCart.push(l),this.utils.simpleToast(s.h.INSERTED_IN_CART)):u.length>0&&this.utils.simpleToast(s.h.REMOVED_FROM_CART)},l.prototype.loadData=function(l){var n=this;setTimeout(function(){console.log("Done"),l.target.complete(),n.imageConcatString=a.a.generateRandomString(),1e3==n.rewardList.length&&(l.target.disabled=!0)},500)},l}(),d=function(){return function(){}}(),p=u("NcP4"),g=u("pMnS"),h=u("oBZk"),m=u("gIcY"),f=u("Ip0R"),A=t.qb({encapsulation:0,styles:[[""]],data:{}});function v(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,23,"ion-row",[],null,null,null,h.mb,h.B)),t.rb(1,49152,null,0,i.lb,[t.h,t.k,t.B],null,null),(l()(),t.sb(2,0,null,0,21,"ion-col",[],null,null,null,h.U,h.j)),t.rb(3,49152,null,0,i.v,[t.h,t.k,t.B],null,null),(l()(),t.sb(4,0,null,0,19,"div",[["class","box-prize"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"div",[["class","qta-txt"]],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.sb(7,0,null,null,1,"div",[["class","num-prize"]],null,null,null,null,null)),(l()(),t.Jb(8,null,["",""])),(l()(),t.sb(9,0,null,null,0,"img",[["onError","src = '../assets/imgs/no-image.png'"]],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(10,0,null,null,1,"span",[["class","item-prize"]],null,null,null,null,null)),(l()(),t.Jb(11,null,["",""])),(l()(),t.sb(12,0,null,null,1,"span",[["class","valor-prize"]],null,null,null,null,null)),(l()(),t.Jb(13,null,[""," Pontos"])),(l()(),t.sb(14,0,null,null,6,"div",[["class","block-value"]],null,null,null,null,null)),(l()(),t.sb(15,0,null,null,1,"button",[["clear",""]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.decrementQty(l.context.$implicit)&&t),t},null,null)),(l()(),t.sb(16,0,null,null,0,"i",[["class","fas fa-minus-circle"]],null,null,null,null,null)),(l()(),t.sb(17,0,null,null,1,"span",[["class","box-qty"]],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""])),(l()(),t.sb(19,0,null,null,1,"button",[["clear",""]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.incrementQty(l.context.$implicit)&&t),t},null,null)),(l()(),t.sb(20,0,null,null,0,"i",[["class","fas fa-plus-circle"]],null,null,null,null,null)),(l()(),t.sb(21,0,null,null,2,"div",[["class","block-footer"]],null,null,null,null,null)),(l()(),t.sb(22,0,null,null,1,"span",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addToCart(l.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(-1,null,[" Adicionar ao carrinho"]))],null,function(l,n){var u=n.component,e=n.context.$implicit.getPremio().getDescricao();l(n,6,0,e);var i=null==n.context.$implicit.getPremio().getQuantidade()?"Infinito":n.context.$implicit.getPremio().getQuantidade();l(n,8,0,i);var r=t.ub(1,"",n.context.$implicit.getPremio().getFoto()+"?"+u.imageConcatString,"");l(n,9,0,r);var o=n.context.$implicit.getPremio().getNome();l(n,11,0,o);var a=n.context.$implicit.getPremio().getValor();l(n,13,0,a);var s=n.context.$implicit.getQuantidade();l(n,18,0,s)})}function k(l){return t.Lb(0,[t.Hb(402653184,1,{infiniteScroll:0}),(l()(),t.sb(1,0,null,null,25,"ion-header",[],null,null,null,h.ab,h.p)),t.rb(2,49152,null,0,i.D,[t.h,t.k,t.B],null,null),(l()(),t.sb(3,0,null,0,6,"ion-toolbar",[],null,null,null,h.vb,h.K)),t.rb(4,49152,null,0,i.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.P,h.e)),t.rb(6,49152,null,0,i.n,[t.h,t.k,t.B],null,null),(l()(),t.sb(7,0,null,0,2,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,h.kb,h.A)),t.rb(8,49152,null,0,i.U,[t.h,t.k,t.B],null,null),(l()(),t.sb(9,0,null,0,0,"i",[["class","fas fa-align-left icon-menu"]],null,null,null,null,null)),(l()(),t.sb(10,0,null,0,10,"ion-toolbar",[["class","no-radius"]],null,null,null,h.vb,h.K)),t.rb(11,49152,null,0,i.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(12,0,null,0,1,"span",[["class","title_t"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Troca"])),(l()(),t.sb(14,0,null,0,1,"span",[["class","title_w"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["de Pr\xeamios"])),(l()(),t.sb(16,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,h.P,h.e)),t.rb(17,49152,null,0,i.n,[t.h,t.k,t.B],null,null),(l()(),t.sb(18,0,null,0,2,"ion-back-button",[["icon","arrow-back"],["text",""]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Cb(l,20).onClick(u)&&e),e},h.N,h.c)),t.rb(19,49152,null,0,i.i,[t.h,t.k,t.B],{icon:[0,"icon"],text:[1,"text"]},null),t.rb(20,16384,null,0,i.j,[[2,i.kb],i.Lb],null,null),(l()(),t.sb(21,0,null,0,5,"ion-toolbar",[],null,null,null,h.vb,h.K)),t.rb(22,49152,null,0,i.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(23,0,null,0,3,"ion-searchbar",[["animated",""],["placeholder","Pesquisar"]],null,[[null,"ionInput"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Cb(l,26)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Cb(l,26)._handleInputEvent(u.target)&&e),"ionInput"===n&&(e=!1!==i.filter(u.srcElement.value)&&e),e},h.nb,h.C)),t.Gb(5120,null,m.l,function(l){return[l]},[i.Rb]),t.rb(25,49152,null,0,i.mb,[t.h,t.k,t.B],{animated:[0,"animated"],placeholder:[1,"placeholder"]},null),t.rb(26,16384,null,0,i.Rb,[t.k],null,null),(l()(),t.sb(27,0,null,null,18,"ion-content",[["padding","true"]],null,null,null,h.V,h.k)),t.rb(28,49152,null,0,i.w,[t.h,t.k,t.B],null,null),t.rb(29,16384,null,0,i.f,[t.k],null,null),(l()(),t.sb(30,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","top"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openCart(u)&&t),t},h.Y,h.m)),t.rb(31,49152,null,0,i.y,[t.h,t.k,t.B],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),t.sb(32,0,null,0,3,"ion-fab-button",[["color","purple"]],null,null,null,h.X,h.n)),t.rb(33,49152,null,0,i.z,[t.h,t.k,t.B],{color:[0,"color"]},null),(l()(),t.sb(34,0,null,0,1,"ion-icon",[["name","cart"]],null,null,null,h.bb,h.q)),t.rb(35,49152,null,0,i.E,[t.h,t.k,t.B],{name:[0,"name"]},null),(l()(),t.sb(36,0,null,0,5,"ion-grid",[],null,null,null,h.Z,h.o)),t.rb(37,49152,null,0,i.C,[t.h,t.k,t.B],null,null),(l()(),t.sb(38,0,null,0,1,"div",[["class","alert alert-warning"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Jb(-1,null,[" Nenhum pr\xeamio dispon\xedvel no momento. "])),(l()(),t.jb(16777216,null,0,1,null,v)),t.rb(41,278528,null,0,f.k,[t.R,t.O,t.u],{ngForOf:[0,"ngForOf"]},null),(l()(),t.sb(42,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,u){var t=!0;return"ionInfinite"===n&&(t=!1!==l.component.loadData(u)&&t),t},h.db,h.r)),t.rb(43,49152,[[1,4]],0,i.G,[t.h,t.k,t.B],{threshold:[0,"threshold"]},null),(l()(),t.sb(44,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","dots"],["loadingText","Carregando mais..."]],null,null,null,h.cb,h.s)),t.rb(45,49152,null,0,i.H,[t.h,t.k,t.B],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var u=n.component;l(n,19,0,"arrow-back",""),l(n,25,0,"","Pesquisar"),l(n,31,0,"end","top"),l(n,33,0,"purple"),l(n,35,0,"cart"),l(n,41,0,u.rewardList),l(n,43,0,"100px"),l(n,45,0,"dots","Carregando mais...")},function(l,n){l(n,38,0,n.component.rewardList.length>0)})}function w(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"app-exchange",[],null,null,null,k,A)),t.rb(1,49152,null,0,b,[i.Ob,c.a,a.a],null,null)],null,null)}var C=t.ob("app-exchange",b,w,{},{},[]),x=u("wmQ5"),P=u("Wf4p"),y=u("M2Lx"),B=u("eDkP"),T=u("Fzqc"),S=u("uGex"),E=u("v9Dh"),L=u("ZYjt"),R=u("4epT"),I=u("OkvK"),Q=u("y4qS"),j=u("BHnd"),q=u("4c35"),O=u("dWZg"),z=u("UodH"),D=u("Lwpp"),J=u("SMsm"),N=u("seP3"),_=u("/VYK"),M=u("b716"),$=u("qAlS"),G=u("lLAP"),H=u("de3e"),K=u("vvyD"),V=u("ZYCi");u.d(n,"ExchangePageModuleNgFactory",function(){return Z});var Z=t.pb(d,[],function(l){return t.zb([t.Ab(512,t.j,t.eb,[[8,[p.a,g.a,C]],[3,t.j],t.z]),t.Ab(4608,f.n,f.m,[t.w,[2,f.x]]),t.Ab(4608,m.v,m.v,[]),t.Ab(4608,i.c,i.c,[t.B,t.g]),t.Ab(4608,i.Kb,i.Kb,[i.c,t.j,t.s]),t.Ab(4608,i.Ob,i.Ob,[i.c,t.j,t.s]),t.Ab(5120,x.b,x.a,[[3,x.b]]),t.Ab(4608,P.d,P.d,[]),t.Ab(4608,y.c,y.c,[]),t.Ab(4608,B.c,B.c,[B.h,B.d,t.j,B.g,B.e,t.s,t.B,f.d,T.b,[2,f.h]]),t.Ab(5120,B.i,B.j,[B.c]),t.Ab(5120,S.a,S.b,[B.c]),t.Ab(5120,E.a,E.b,[B.c]),t.Ab(4608,L.f,P.e,[[2,P.i],[2,P.n]]),t.Ab(5120,R.b,R.a,[[3,R.b]]),t.Ab(5120,I.b,I.a,[[3,I.b]]),t.Ab(1073742336,f.c,f.c,[]),t.Ab(1073742336,m.t,m.t,[]),t.Ab(1073742336,m.j,m.j,[]),t.Ab(1073742336,i.Gb,i.Gb,[]),t.Ab(1073742336,Q.o,Q.o,[]),t.Ab(1073742336,T.a,T.a,[]),t.Ab(1073742336,P.n,P.n,[[2,P.f],[2,L.g]]),t.Ab(1073742336,j.a,j.a,[]),t.Ab(1073742336,q.c,q.c,[]),t.Ab(1073742336,O.b,O.b,[]),t.Ab(1073742336,P.w,P.w,[]),t.Ab(1073742336,z.a,z.a,[]),t.Ab(1073742336,D.e,D.e,[]),t.Ab(1073742336,J.c,J.c,[]),t.Ab(1073742336,x.c,x.c,[]),t.Ab(1073742336,y.d,y.d,[]),t.Ab(1073742336,N.d,N.d,[]),t.Ab(1073742336,_.c,_.c,[]),t.Ab(1073742336,M.b,M.b,[]),t.Ab(1073742336,P.u,P.u,[]),t.Ab(1073742336,P.s,P.s,[]),t.Ab(1073742336,$.b,$.b,[]),t.Ab(1073742336,B.f,B.f,[]),t.Ab(1073742336,S.d,S.d,[]),t.Ab(1073742336,G.a,G.a,[]),t.Ab(1073742336,E.c,E.c,[]),t.Ab(1073742336,R.c,R.c,[]),t.Ab(1073742336,I.c,I.c,[]),t.Ab(1073742336,H.a,H.a,[]),t.Ab(1073742336,K.a,K.a,[]),t.Ab(1073742336,V.q,V.q,[[2,V.w],[2,V.n]]),t.Ab(1073742336,d,d,[]),t.Ab(1024,V.l,function(){return[[{path:"",component:b}]]},[])])})}}]);