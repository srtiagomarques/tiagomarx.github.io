(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{MQO8:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),u=t("68on"),e=t("VPMT"),o=t("aCXV"),r=t("ZZ/e"),s=t("Zkqg"),a=function(){function l(l,n,t,i){this.api=l,this.utils=n,this.pageDataService=t,this.modalController=i,this.logHeader="PendingPage>>",this.invitations=new Array,this.invitationList=new Array,this.imageConcatString=e.a.generateRandomString(),e.a.log(this.logHeader+"constructor>>"),this.team=this.pageDataService.getData("teamData"),e.a.isVarInvalid(this.team)&&(this.utils.simpleToastError(s.h.SOMETHING_WENT_WRONG),this.modalController.dismiss()),this.getPendingUsers()}return l.prototype.getPendingUsers=function(){var l=this;this.api.getTeamPendingUsers(this.team.getId()).then(function(n){l.imageConcatString=e.a.generateRandomString(),l.invitations=n,l.invitationList=l.invitations}).catch(function(n){return l.utils.simpleToastError(n+"\n"+s.h.SOMETHING_WENT_WRONG)})},l.prototype.approve=function(l){var n=this;this.api.approveUser(l.getId()).then(function(){n.utils.simpleToast(s.h.USER_ADDED),n.invitations.splice(n.invitations.indexOf(l),1),n.filter(n.searchTerm),n.pageDataService.listUserEvent.emit("pendingUserData")}).catch(function(l){return n.utils.simpleToastError(l+"\n"+s.h.SOMETHING_WENT_WRONG)})},l.prototype.disapprove=function(l){var n=this;this.api.disapproveUser(l.getId()).then(function(){n.utils.simpleToast(s.h.USER_REMOVED),n.invitations.splice(n.invitations.indexOf(l),1),n.filter(n.searchTerm)}).catch(function(l){return n.utils.simpleToastError(l+"\n"+s.h.SOMETHING_WENT_WRONG)})},l.prototype.filter=function(l){if(e.a.log(this.logHeader+"filter>>"),e.a.isStringInvalid(l))this.invitationList=this.invitations;else{var n=l;this.searchTerm=n,this.invitationList=n?this.invitations.filter(function(l){return l.getUserNome().toLowerCase().includes(n.toLowerCase())}):this.invitations}},l.prototype.loadData=function(l){var n=this;setTimeout(function(){console.log("Done"),l.target.complete(),n.imageConcatString=e.a.generateRandomString(),1e3==n.invitationList.length&&(l.target.disabled=!0)},500)},l}(),b=function(){return function(){}}(),c=t("pMnS"),p=t("oBZk"),h=t("Ip0R"),g=t("gIcY"),d=i.qb({encapsulation:0,styles:[[""]],data:{}});function m(l){return i.Lb(0,[(l()(),i.sb(0,0,null,null,28,"ion-row",[],null,null,null,p.mb,p.B)),i.rb(1,49152,null,0,r.lb,[i.h,i.k,i.B],null,null),(l()(),i.sb(2,0,null,0,26,"ion-col",[],null,null,null,p.U,p.j)),i.rb(3,49152,null,0,r.v,[i.h,i.k,i.B],null,null),(l()(),i.sb(4,0,null,0,24,"ion-list",[],null,null,null,p.jb,p.y)),i.rb(5,49152,null,0,r.Q,[i.h,i.k,i.B],null,null),(l()(),i.sb(6,0,null,0,22,"ion-item-sliding",[],null,null,null,p.gb,p.w)),i.rb(7,49152,null,0,r.O,[i.h,i.k,i.B],null,null),(l()(),i.sb(8,0,null,0,10,"ion-item",[["no-lines",""]],null,null,null,p.hb,p.t)),i.rb(9,49152,null,0,r.J,[i.h,i.k,i.B],null,null),(l()(),i.sb(10,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,p.M,p.b)),i.rb(11,49152,null,0,r.h,[i.h,i.k,i.B],null,null),(l()(),i.sb(12,0,null,0,0,"img",[["onError","src = '../assets/imgs/user.png'"]],[[8,"src",4]],null,null,null,null)),(l()(),i.sb(13,0,null,0,5,"ion-label",[],null,null,null,p.ib,p.x)),i.rb(14,49152,null,0,r.P,[i.h,i.k,i.B],null,null),(l()(),i.sb(15,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),i.Jb(16,null,[""," "])),(l()(),i.sb(17,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),i.Jb(18,null,[""," / "," / ",""])),(l()(),i.sb(19,0,null,0,4,"ion-item-options",[["side","start"]],null,null,null,p.fb,p.v)),i.rb(20,49152,null,0,r.N,[i.h,i.k,i.B],{side:[0,"side"]},null),(l()(),i.sb(21,0,null,0,2,"ion-item-option",[["color","success"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.approve(l.context.$implicit)&&i),i},p.eb,p.u)),i.rb(22,49152,null,0,r.M,[i.h,i.k,i.B],{color:[0,"color"]},null),(l()(),i.Jb(-1,0,["Aprovar"])),(l()(),i.sb(24,0,null,0,4,"ion-item-options",[["side","end"]],null,null,null,p.fb,p.v)),i.rb(25,49152,null,0,r.N,[i.h,i.k,i.B],{side:[0,"side"]},null),(l()(),i.sb(26,0,null,0,2,"ion-item-option",[["color","danger"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.disapprove(l.context.$implicit)&&i),i},p.eb,p.u)),i.rb(27,49152,null,0,r.M,[i.h,i.k,i.B],{color:[0,"color"]},null),(l()(),i.Jb(-1,0,["Recusar"]))],function(l,n){l(n,20,0,"start"),l(n,22,0,"success"),l(n,25,0,"end"),l(n,27,0,"danger")},function(l,n){var t=n.component,u=i.ub(1,"",n.context.$implicit.getFoto()+"?"+t.imageConcatString,"");l(n,12,0,u);var e=n.context.$implicit.getUserNome();l(n,16,0,e);var o=n.context.$implicit.getFabricaNome(),r=n.context.$implicit.getSecaoNome(),s=n.context.$implicit.getLinhaNome();l(n,18,0,o,r,s)})}function f(l){return i.Lb(0,[(l()(),i.sb(0,0,null,null,3,"ion-grid",[],null,null,null,p.Z,p.o)),i.rb(1,49152,null,0,r.C,[i.h,i.k,i.B],null,null),(l()(),i.jb(16777216,null,0,1,null,m)),i.rb(3,278528,null,0,h.k,[i.R,i.O,i.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.invitationList)},null)}function v(l){return i.Lb(0,[i.Hb(402653184,1,{infiniteScroll:0}),(l()(),i.sb(1,0,null,null,20,"ion-header",[],null,null,null,p.ab,p.p)),i.rb(2,49152,null,0,r.D,[i.h,i.k,i.B],null,null),(l()(),i.sb(3,0,null,0,6,"ion-toolbar",[],null,null,null,p.vb,p.K)),i.rb(4,49152,null,0,r.Eb,[i.h,i.k,i.B],null,null),(l()(),i.sb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.P,p.e)),i.rb(6,49152,null,0,r.n,[i.h,i.k,i.B],null,null),(l()(),i.sb(7,0,null,0,2,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,p.kb,p.A)),i.rb(8,49152,null,0,r.U,[i.h,i.k,i.B],null,null),(l()(),i.sb(9,0,null,0,0,"i",[["class","fas fa-align-left icon-menu"]],null,null,null,null,null)),(l()(),i.sb(10,0,null,0,5,"ion-toolbar",[["class","no-radius"]],null,null,null,p.vb,p.K)),i.rb(11,49152,null,0,r.Eb,[i.h,i.k,i.B],null,null),(l()(),i.sb(12,0,null,0,1,"span",[["class","title_t"]],null,null,null,null,null)),(l()(),i.Jb(-1,null,["Usu\xe1rios"])),(l()(),i.sb(14,0,null,0,1,"span",[["class","title_w"]],null,null,null,null,null)),(l()(),i.Jb(-1,null,["Pendentes"])),(l()(),i.sb(16,0,null,0,5,"ion-toolbar",[],null,null,null,p.vb,p.K)),i.rb(17,49152,null,0,r.Eb,[i.h,i.k,i.B],null,null),(l()(),i.sb(18,0,null,0,3,"ion-searchbar",[["animated",""],["placeholder","Pesquisar"]],null,[[null,"ionInput"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,t){var u=!0,e=l.component;return"ionBlur"===n&&(u=!1!==i.Cb(l,21)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==i.Cb(l,21)._handleInputEvent(t.target)&&u),"ionInput"===n&&(u=!1!==e.filter(t.srcElement.value)&&u),u},p.nb,p.C)),i.Gb(5120,null,g.l,function(l){return[l]},[r.Rb]),i.rb(20,49152,null,0,r.mb,[i.h,i.k,i.B],{animated:[0,"animated"],placeholder:[1,"placeholder"]},null),i.rb(21,16384,null,0,r.Rb,[i.k],null,null),(l()(),i.sb(22,0,null,null,10,"ion-content",[["padding","true"]],null,null,null,p.V,p.k)),i.rb(23,49152,null,0,r.w,[i.h,i.k,i.B],null,null),i.rb(24,16384,null,0,r.f,[i.k],null,null),(l()(),i.sb(25,0,null,0,1,"div",[["class","alert alert-warning"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(l()(),i.Jb(-1,null,[" Nenhum usu\xe1rio pendente no momento. "])),(l()(),i.jb(16777216,null,0,1,null,f)),i.rb(28,16384,null,0,h.l,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(l()(),i.sb(29,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,t){var i=!0;return"ionInfinite"===n&&(i=!1!==l.component.loadData(t)&&i),i},p.db,p.r)),i.rb(30,49152,[[1,4]],0,r.G,[i.h,i.k,i.B],{threshold:[0,"threshold"]},null),(l()(),i.sb(31,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","dots"],["loadingText","Carregando mais..."]],null,null,null,p.cb,p.s)),i.rb(32,49152,null,0,r.H,[i.h,i.k,i.B],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var t=n.component;l(n,20,0,"","Pesquisar"),l(n,28,0,t.invitations.length>0),l(n,30,0,"100px"),l(n,32,0,"dots","Carregando mais...")},function(l,n){l(n,25,0,n.component.invitations.length>0)})}function k(l){return i.Lb(0,[(l()(),i.sb(0,0,null,null,1,"app-pending",[],null,null,null,v,d)),i.rb(1,49152,null,0,a,[u.a,e.a,o.a,r.Kb],null,null)],null,null)}var B=i.ob("app-pending",a,k,{},{},[]),E=t("ZYCi");t.d(n,"PendingPageModuleNgFactory",function(){return S});var S=i.pb(b,[],function(l){return i.zb([i.Ab(512,i.j,i.eb,[[8,[c.a,B]],[3,i.j],i.z]),i.Ab(4608,h.n,h.m,[i.w,[2,h.x]]),i.Ab(4608,g.v,g.v,[]),i.Ab(4608,r.c,r.c,[i.B,i.g]),i.Ab(4608,r.Kb,r.Kb,[r.c,i.j,i.s]),i.Ab(4608,r.Ob,r.Ob,[r.c,i.j,i.s]),i.Ab(1073742336,h.c,h.c,[]),i.Ab(1073742336,g.t,g.t,[]),i.Ab(1073742336,g.j,g.j,[]),i.Ab(1073742336,r.Gb,r.Gb,[]),i.Ab(1073742336,E.q,E.q,[[2,E.w],[2,E.n]]),i.Ab(1073742336,b,b,[]),i.Ab(1024,E.l,function(){return[[{path:"",component:a}]]},[])])})}}]);