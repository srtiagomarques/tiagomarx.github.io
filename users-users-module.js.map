{"version":3,"sources":["webpack:///./src/app/admin/pontos/users/users.module.ts","webpack:///./src/app/admin/pontos/users/users.page.html","webpack:///./src/app/admin/pontos/users/users.page.scss","webpack:///./src/app/admin/pontos/users/users.page.ts"],"names":[],"mappings":"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","file":"users-users-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UsersPage } from './users.page';\r\nimport { MaterialModule } from 'src/app/material.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UsersPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MaterialModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [UsersPage]\r\n})\r\nexport class UsersPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-toggle auto-hide=\\\"false\\\"><i class=\\\"fas fa-align-left icon-menu\\\"></i></ion-menu-toggle>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <i class=\\\"fas fa-ellipsis-h dot-ico\\\"  (click)=\\\"openMenu($event)\\\" slot=\\\"end\\\"></i>\\r\\n\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"no-radius\\\">\\r\\n\\r\\n    <span class=\\\"title_t\\\">Gestão</span>\\r\\n    <span class=\\\"title_w\\\">de Pontos Usuários </span>\\r\\n    \\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon name=\\\"arrow-back\\\"  (click)=\\\"navigateDashboard()\\\" class=\\\"back-btn-dash\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <ion-toolbar>\\r\\n    <ion-searchbar placeholder=\\\"Pesquisar\\\" animated (ionInput)=\\\"filter($event.srcElement.value)\\\"></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"app-members\\\" padding=\\\"true\\\">\\r\\n\\r\\n  <div  *ngFor=\\\"let user of userList\\\"  [ngClass]=\\\"{'checkbox-inactive': !user.ativo}\\\">\\r\\n    <ion-item no-lines>\\r\\n      <ion-checkbox class=\\\"checkbox-ui\\\" slot=\\\"start\\\" [(ngModel)]=\\\"user.checked\\\" (ngModelChange)=\\\"userChange(user,$event)\\\" [disabled]=\\\"!user.ativo\\\"></ion-checkbox>\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img src=\\\"{{user.getFoto()+'?'+imageConcatString}}\\\" onError=\\\"src = '../assets/imgs/user.png'\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <p>{{user.nome}}</p>\\r\\n        <p class=\\\"email\\\">{{user.email}}</p>\\r\\n      </ion-label>\\r\\n      <span class=\\\"badge badge-pontos\\\">{{user.saldo}}</span>\\r\\n      <i class=\\\"fas fa-ellipsis-v\\\" slot=\\\"end\\\" (click)=\\\"abrirActionSheet(user)\\\" *ngIf=\\\"!multicheck\\\"></i>\\r\\n    </ion-item>\\r\\n  </div>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"dots\\\"\\r\\n      loadingText=\\\"Carregando mais...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3BvbnRvcy91c2Vycy91c2Vycy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { PopoverController, ActionSheetController, ModalController, AlertController, IonInfiniteScroll } from '@ionic/angular';\r\nimport { BackendApiProvider } from 'src/providers/backend-api/backend-api.service';\r\nimport { Utils } from 'src/commons/Utils';\r\nimport { User } from 'src/models/User';\r\nimport { PontosModalPage } from '../pontos-modal/pontos-modal.page';\r\nimport { PontosRemovePage } from '../pontos-remove/pontos-remove.page';\r\nimport { ToastText, MenuText, AlertText, AlertTitle, Constants } from 'src/commons/Constants';\r\nimport { PontosMenuPage } from '../pontos-menu/pontos-menu.page';\r\nimport { PageDataService } from 'src/providers/page-data/page-data.service';\r\nimport { Router } from '@angular/router';\r\n\r\n//-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n@Component({\r\n  selector: 'app-users',\r\n  templateUrl: './users.page.html',\r\n  styleUrls: ['./users.page.scss'],\r\n})\r\n\r\n//-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\nexport class UsersPage {\r\n\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  count: number = 0;\r\n  checked = false;\r\n  multicheck = false;\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  private readonly logHeader = \"UsersPage>>\";\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  private infinitescroll: any;\r\n  private users: Array<User> = new Array<User>();\r\n  public userList: Array<User> = new Array<User>();\r\n  private searchTerm: string;\r\n  private selectedUsers: Array<number> = new Array<number>();\r\n  private page: number = 1;\r\n  private totalPages: number;\r\n  private imageConcatString = Utils.generateRandomString();\r\n\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  constructor(\r\n    private authService: AuthenticationService,\r\n    public popoverController: PopoverController,\r\n    private api: BackendApiProvider,\r\n    public actionSheetController: ActionSheetController,\r\n    private utils: Utils,\r\n    public modalController: ModalController,\r\n    public alertController: AlertController,\r\n    private pageData: PageDataService,\r\n    private router:Router\r\n  ) {\r\n    pageData.listUserEvent.subscribe((data: any) => {\r\n      if (!Utils.isVarInvalid(data) && !Utils.isArrayInvalid(data.users) && !Utils.isVarInvalid(data.value)) {\r\n        for (let user of this.users) {\r\n          if (data.users.filter(n => n == user.getId()).length > 0) {\r\n            user.setSaldo(user.getSaldo() + data.value);\r\n          }\r\n        }\r\n      }\r\n      this.filter(this.searchTerm);\r\n    })\r\n    const logHeader = this.logHeader + \"constructor>>\";\r\n    Utils.log(logHeader);\r\n    this.getUsers();\r\n  }\r\n\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  getUsers() {\r\n    const logHeader = this.logHeader + \"getUsers>>\";\r\n    Utils.log(logHeader);\r\n    this.api.getUsers(1).then((response: any) => {\r\n      this.imageConcatString = Utils.generateRandomString();\r\n      let users: Array<User> = response.users;\r\n      this.totalPages = response.totalPages\r\n      this.users = this.filterUsers(users);\r\n      this.filter(this.searchTerm);\r\n    }).catch((error) => this.utils.simpleToastError(error + '\\n' + ToastText.SOMETHING_WENT_WRONG));\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  filterUsers(users: Array<User>): Array<User> {\r\n    // let filteredList: Array<User> = new Array<User>();\r\n    // for (let user of users) {\r\n    //   if (this.api.getLoggedUser().getId() != user.getId()) {\r\n    //     filteredList.push(user);\r\n    //   }\r\n    // }\r\n    // return filteredList;\r\n    return users;\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  filter(evt) {\r\n    const logHeader = this.logHeader + \"filter>>\";\r\n    Utils.log(logHeader);\r\n    if (Utils.isStringInvalid(evt)) {\r\n      this.userList = this.users;\r\n      return;\r\n    }\r\n    const searchTerm = evt;\r\n    this.searchTerm = searchTerm;\r\n    if (!searchTerm) {\r\n      this.userList = this.users;\r\n      return;\r\n    }\r\n    this.userList = this.users.filter(n => n.getNome().toLowerCase().includes(searchTerm.toLowerCase()) || n.getEmail().toLowerCase().includes(searchTerm.toLowerCase()));\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  async abrirActionSheet(user: User) {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: MenuText.WHAT_DO_YOU_WANT_TO_DO,\r\n      buttons: [{\r\n        text: MenuText.ADD_POINTS,\r\n        handler: () => {\r\n          this.presentPopOver(user);\r\n        }\r\n      },\r\n      {\r\n        text: MenuText.REMOVE_POINTS,\r\n        role: 'destructive',\r\n        handler: () => {\r\n          this.presentPopOverDel(user);\r\n        }\r\n      },\r\n      {\r\n        text: MenuText.CANCEL, role: 'cancel',\r\n        handler: () => {\r\n        }\r\n      }]\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  async presentPopOver(user: User = undefined) {\r\n    let users: any;\r\n    if (!Utils.isArrayInvalid(this.selectedUsers)) {\r\n      users = this.selectedUsers;\r\n    }\r\n    else {\r\n      users = [user.getId()];\r\n    }\r\n    const modal = await this.popoverController.create({\r\n      component: PontosModalPage,\r\n      showBackdrop: true,\r\n      backdropDismiss: false,\r\n      componentProps: {\r\n        users: users,\r\n        remove: false\r\n      }\r\n    });\r\n    await modal.present();\r\n    // modal.onDidDismiss().then(() => {\r\n    // this.page = 1;\r\n    // this.infiniteScroll.disabled = this.page >= this.totalPages;\r\n    // this.getUsers();\r\n    // })\r\n\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  async presentPopOverDel(user: User = undefined) {\r\n\r\n    let users: any;\r\n    if (!Utils.isArrayInvalid(this.selectedUsers)) {\r\n      users = this.selectedUsers;\r\n    }\r\n    else {\r\n      users = [user.getId()];\r\n    }\r\n    const modal = await this.popoverController.create({\r\n      component: PontosModalPage,\r\n      showBackdrop: true,\r\n      backdropDismiss: false,\r\n      componentProps: {\r\n        users: users,\r\n        remove: true\r\n      }\r\n    });\r\n    await modal.present();\r\n    modal.onDidDismiss().then(() => {\r\n      this.page = 1;\r\n      this.infiniteScroll.disabled = this.page >= this.totalPages;\r\n      this.getUsers();\r\n    })\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  userChange(user: User, checked: boolean, evt: any = undefined) {\r\n    if (checked) {\r\n      if (this.selectedUsers.indexOf(user.getId()) < 0) {\r\n        this.selectedUsers.push(user.getId());\r\n      }\r\n    }\r\n    else {\r\n      this.selectedUsers.splice(this.selectedUsers.indexOf(user.getId()), 1);\r\n    }\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  loadData(event) {\r\n    this.page++;\r\n    this.infiniteScroll = event.target;\r\n    this.api.getUsers(this.page).then((response: any) => {\r\n      this.imageConcatString = Utils.generateRandomString();\r\n      let users: Array<User> = response.users;\r\n      this.totalPages = response.totalPages\r\n      this.users = this.filterUsers(this.users.concat(users));\r\n      this.filter(this.searchTerm);\r\n      this.infiniteScroll.complete();\r\n      this.infiniteScroll.disabled = this.page >= this.totalPages\r\n    }).catch((error) => this.utils.simpleToastError(error + '\\n' + ToastText.SOMETHING_WENT_WRONG));\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  async openMenu(ev: any) {\r\n\r\n    const popover = await this.popoverController.create({\r\n      component: PontosMenuPage,\r\n      event: ev,\r\n      animated: true,\r\n      showBackdrop: true,\r\n      translucent: true,\r\n      cssClass: 'popover_class'\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  async DismissClick() {\r\n    await this.popoverController.dismiss();\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n  navigateDashboard() {\r\n    this.router.navigate(['admin', 'dashboard'])\r\n  }\r\n\r\n  //-------------------------------------------------------------------------------------------------------------------------------//\r\n\r\n}\r\n"],"sourceRoot":""}