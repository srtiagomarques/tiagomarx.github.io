(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Mjxg:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("mrSG"),s=u("ZZ/e"),i=u("HF/q"),o=u("68on"),r=u("VPMT"),a=u("Zkqg"),b=function(){function l(l,n,u){this.popoverController=l,this.api=n,this.utils=u,this.logHeader="NotificationPage>>",this.messages=new Array,this.messageList=new Array,r.a.log(this.logHeader+"constructor>>"),this.getAllMessages()}return l.prototype.getAllMessages=function(){var l=this;this.api.getAllMessages().then(function(n){n.sort(function(l,n){return n.getData().getTime()-l.getData().getTime()}),n.sort(function(l,n){return l.getLida()===n.getLida()?0:l.getLida()?1:-1}),l.messages=n,l.messageList=l.messages}).catch(function(n){return l.utils.simpleToastError(n+"\n"+a.h.SOMETHING_WENT_WRONG)})},l.prototype.openMensagem=function(l){return e.b(this,void 0,void 0,function(){var n,u,t=this;return e.e(this,function(e){switch(e.label){case 0:return[4,this.popoverController.create({component:i.a,event:l,animated:!0,showBackdrop:!0,translucent:!0,cssClass:"popover_class_msg",componentProps:{message:n=l}})];case 1:return[4,(u=e.sent()).present()];case 2:return e.sent(),u.onDidDismiss().then(function(){n.getLida()||t.api.markMessageAsRead(n.getId()).then(function(){n.setLida(!0)})}),[2]}})})},l.prototype.filter=function(l){if(r.a.log(this.logHeader+"filter>>"),r.a.isStringInvalid(l))this.messageList=this.messages;else{var n=l;this.searchTerm=n,this.messageList=n?this.messages.filter(function(l){return l.getFromUserNome().toLowerCase().includes(n.toLowerCase())||l.getMessage().toLowerCase().includes(n.toLowerCase())}):this.messages}},l.prototype.delete=function(l){var n=this;this.api.deleteMessage(l.getId()).then(function(){n.messages.splice(n.messages.indexOf(l),1),n.filter(n.searchTerm),n.utils.simpleToast(a.h.REMOVE_SUCCESSFUL)}).catch(function(l){return n.utils.simpleToastError(l+"\n"+a.h.SOMETHING_WENT_WRONG)})},l.prototype.loadData=function(l){var n=this;setTimeout(function(){console.log("Done"),l.target.complete(),1e3==n.messageList.length&&(l.target.disabled=!0)},500)},l}(),c=function(){return function(){}}(),g=u("pMnS"),h=u("oBZk"),p=u("Ip0R"),d=u("gIcY"),m=t.qb({encapsulation:0,styles:[[""]],data:{}});function f(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"div",[["class","badge-new"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["novo"]))],null,null)}function k(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"span",[["class","msg-not"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,0,"i",[["class","fas fa-envelope"]],null,null,null,null,null))],null,null)}function v(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"span",[["class","msg-yes"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,0,"i",[["class","fas fa-envelope-open-text"]],null,null,null,null,null))],null,null)}function B(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,32,"ion-list",[["class","msgs"]],null,null,null,h.jb,h.y)),t.rb(1,49152,null,0,s.Q,[t.h,t.k,t.B],null,null),(l()(),t.jb(16777216,null,0,1,null,f)),t.rb(3,16384,null,0,p.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(4,0,null,0,28,"ion-item-sliding",[],null,null,null,h.gb,h.w)),t.rb(5,49152,null,0,s.O,[t.h,t.k,t.B],null,null),(l()(),t.sb(6,0,null,0,20,"ion-item",[["no-lines",""],["no-padding",""]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openMensagem(l.context.$implicit)&&t),t},h.hb,h.t)),t.rb(7,49152,null,0,s.J,[t.h,t.k,t.B],null,null),t.rb(8,16384,null,0,s.f,[t.k],null,null),(l()(),t.sb(9,0,null,0,5,"ion-avatar",[["slot","start"]],null,null,null,h.M,h.b)),t.rb(10,49152,null,0,s.h,[t.h,t.k,t.B],null,null),(l()(),t.jb(16777216,null,0,1,null,k)),t.rb(12,16384,null,0,p.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.jb(16777216,null,0,1,null,v)),t.rb(14,16384,null,0,p.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(15,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,h.M,h.b)),t.rb(16,49152,null,0,s.h,[t.h,t.k,t.B],null,null),(l()(),t.sb(17,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(18,0,null,0,8,"ion-label",[],null,null,null,h.ib,h.x)),t.rb(19,49152,null,0,s.P,[t.h,t.k,t.B],null,null),(l()(),t.sb(20,0,null,0,4,"h2",[],null,null,null,null,null)),(l()(),t.Jb(21,null,[""," "])),(l()(),t.sb(22,0,null,null,2,"span",[["class","msg-small"]],null,null,null,null,null)),(l()(),t.Jb(23,null,["",""])),t.Fb(24,2),(l()(),t.sb(25,0,null,0,1,"p",[["class","msg"]],null,null,null,null,null)),(l()(),t.Jb(26,null,["",""])),(l()(),t.sb(27,0,null,0,5,"ion-item-options",[["side","end"]],null,null,null,h.fb,h.v)),t.rb(28,49152,null,0,s.N,[t.h,t.k,t.B],{side:[0,"side"]},null),(l()(),t.sb(29,0,null,0,3,"ion-item-option",[["color","danger"]],null,null,null,h.eb,h.u)),t.rb(30,49152,null,0,s.M,[t.h,t.k,t.B],{color:[0,"color"]},null),(l()(),t.sb(31,0,null,0,1,"ion-icon",[["name","trash"],["slot","icon-only"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.delete(l.context.$implicit)&&t),t},h.bb,h.q)),t.rb(32,49152,null,0,s.E,[t.h,t.k,t.B],{name:[0,"name"]},null)],function(l,n){var u=!n.context.$implicit.getLida();l(n,3,0,u);var t=!n.context.$implicit.getLida();l(n,12,0,t);var e=n.context.$implicit.getLida();l(n,14,0,e),l(n,28,0,"end"),l(n,30,0,"danger"),l(n,32,0,"trash")},function(l,n){var u=t.ub(1,"",n.context.$implicit.getFromUserFoto(),"");l(n,17,0,u);var e=n.context.$implicit.getFromUserNome();l(n,21,0,e);var s=t.Kb(n,23,0,l(n,24,0,t.Cb(n.parent,0),n.context.$implicit.getData().toUTCString(),"dd/MM/yyyy"));l(n,23,0,s);var i=n.context.$implicit.getMessage();l(n,26,0,i)})}function L(l){return t.Lb(0,[t.Db(0,p.e,[t.w]),t.Hb(402653184,1,{infiniteScroll:0}),(l()(),t.sb(2,0,null,null,25,"ion-header",[["class","header-extrato"]],null,null,null,h.ab,h.p)),t.rb(3,49152,null,0,s.D,[t.h,t.k,t.B],null,null),(l()(),t.sb(4,0,null,0,6,"ion-toolbar",[],null,null,null,h.vb,h.K)),t.rb(5,49152,null,0,s.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.P,h.e)),t.rb(7,49152,null,0,s.n,[t.h,t.k,t.B],null,null),(l()(),t.sb(8,0,null,0,2,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,h.kb,h.A)),t.rb(9,49152,null,0,s.U,[t.h,t.k,t.B],null,null),(l()(),t.sb(10,0,null,0,0,"i",[["class","fas fa-align-left icon-menu"]],null,null,null,null,null)),(l()(),t.sb(11,0,null,0,10,"ion-toolbar",[["class","no-radius"]],null,null,null,h.vb,h.K)),t.rb(12,49152,null,0,s.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(13,0,null,0,1,"span",[["class","title_t"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Central"])),(l()(),t.sb(15,0,null,0,1,"span",[["class","title_w"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["de Notifica\xe7\xf5es"])),(l()(),t.sb(17,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,h.P,h.e)),t.rb(18,49152,null,0,s.n,[t.h,t.k,t.B],null,null),(l()(),t.sb(19,0,null,0,2,"ion-back-button",[["icon","arrow-back"],["text",""]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Cb(l,21).onClick(u)&&e),e},h.N,h.c)),t.rb(20,49152,null,0,s.i,[t.h,t.k,t.B],{icon:[0,"icon"],text:[1,"text"]},null),t.rb(21,16384,null,0,s.j,[[2,s.kb],s.Lb],null,null),(l()(),t.sb(22,0,null,0,5,"ion-toolbar",[],null,null,null,h.vb,h.K)),t.rb(23,49152,null,0,s.Eb,[t.h,t.k,t.B],null,null),(l()(),t.sb(24,0,null,0,3,"ion-searchbar",[["animated",""],["placeholder","Pesquisar"]],null,[[null,"ionInput"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,s=l.component;return"ionBlur"===n&&(e=!1!==t.Cb(l,27)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Cb(l,27)._handleInputEvent(u.target)&&e),"ionInput"===n&&(e=!1!==s.filter(u.srcElement.value)&&e),e},h.nb,h.C)),t.Gb(5120,null,d.l,function(l){return[l]},[s.Rb]),t.rb(26,49152,null,0,s.mb,[t.h,t.k,t.B],{animated:[0,"animated"],placeholder:[1,"placeholder"]},null),t.rb(27,16384,null,0,s.Rb,[t.k],null,null),(l()(),t.sb(28,0,null,null,16,"ion-content",[["padding","true"]],null,null,null,h.V,h.k)),t.rb(29,49152,null,0,s.w,[t.h,t.k,t.B],null,null),t.rb(30,16384,null,0,s.f,[t.k],null,null),(l()(),t.sb(31,0,null,0,9,"ion-grid",[],null,null,null,h.Z,h.o)),t.rb(32,49152,null,0,s.C,[t.h,t.k,t.B],null,null),(l()(),t.sb(33,0,null,0,7,"ion-row",[],null,null,null,h.mb,h.B)),t.rb(34,49152,null,0,s.lb,[t.h,t.k,t.B],null,null),(l()(),t.sb(35,0,null,0,5,"ion-col",[],null,null,null,h.U,h.j)),t.rb(36,49152,null,0,s.v,[t.h,t.k,t.B],null,null),(l()(),t.sb(37,0,null,0,1,"div",[["class","alert alert-warning"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Jb(-1,null,[" Nenhuma notifica\xe7\xe3o no momento. "])),(l()(),t.jb(16777216,null,0,1,null,B)),t.rb(40,278528,null,0,p.k,[t.R,t.O,t.u],{ngForOf:[0,"ngForOf"]},null),(l()(),t.sb(41,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,u){var t=!0;return"ionInfinite"===n&&(t=!1!==l.component.loadData(u)&&t),t},h.db,h.r)),t.rb(42,49152,[[1,4]],0,s.G,[t.h,t.k,t.B],{threshold:[0,"threshold"]},null),(l()(),t.sb(43,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","dots"],["loadingText","Carregando mais..."]],null,null,null,h.cb,h.s)),t.rb(44,49152,null,0,s.H,[t.h,t.k,t.B],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var u=n.component;l(n,20,0,"arrow-back",""),l(n,26,0,"","Pesquisar"),l(n,40,0,u.messageList),l(n,42,0,"100px"),l(n,44,0,"dots","Carregando mais...")},function(l,n){l(n,37,0,n.component.messageList.length>0)})}function w(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"app-notification",[],null,null,null,L,m)),t.rb(1,49152,null,0,b,[s.Ob,o.a,r.a],null,null)],null,null)}var C=t.ob("app-notification",b,w,{},{},[]),x=u("ZYCi");u.d(n,"NotificationPageModuleNgFactory",function(){return M});var M=t.pb(c,[],function(l){return t.zb([t.Ab(512,t.j,t.eb,[[8,[g.a,C]],[3,t.j],t.z]),t.Ab(4608,p.n,p.m,[t.w,[2,p.x]]),t.Ab(4608,d.v,d.v,[]),t.Ab(4608,s.c,s.c,[t.B,t.g]),t.Ab(4608,s.Kb,s.Kb,[s.c,t.j,t.s]),t.Ab(4608,s.Ob,s.Ob,[s.c,t.j,t.s]),t.Ab(1073742336,p.c,p.c,[]),t.Ab(1073742336,d.t,d.t,[]),t.Ab(1073742336,d.j,d.j,[]),t.Ab(1073742336,s.Gb,s.Gb,[]),t.Ab(1073742336,x.q,x.q,[[2,x.w],[2,x.n]]),t.Ab(1073742336,c,c,[]),t.Ab(1024,x.l,function(){return[[{path:"",component:b}]]},[])])})}}]);