(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{RSVK:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),s=e("mrSG"),u=e("ej43"),r=e("ZZ/e"),i=e("68on"),o=e("VPMT"),a=e("ndkR"),c=e("Zkqg"),b=e("6arh"),d=e("aCXV"),h=function(){function n(n,l,e,t,s,u,r,i,a){var c=this;this.authService=n,this.popoverController=l,this.api=e,this.actionSheetController=t,this.utils=s,this.modalController=u,this.alertController=r,this.pageData=i,this.router=a,this.count=0,this.checked=!1,this.multicheck=!1,this.logHeader="UsersPage>>",this.users=new Array,this.userList=new Array,this.selectedUsers=new Array,this.page=1,this.imageConcatString=o.a.generateRandomString(),i.listUserEvent.subscribe(function(n){if(!o.a.isVarInvalid(n)&&!o.a.isArrayInvalid(n.users)&&!o.a.isVarInvalid(n.value))for(var l=function(l){n.users.filter(function(n){return n==l.getId()}).length>0&&l.setSaldo(l.getSaldo()+n.value)},e=0,t=c.users;e<t.length;e++)l(t[e]);c.filter(c.searchTerm)}),o.a.log(this.logHeader+"constructor>>"),this.getUsers()}return n.prototype.getUsers=function(){var n=this;o.a.log(this.logHeader+"getUsers>>"),this.api.getUsers(1).then(function(l){n.imageConcatString=o.a.generateRandomString();var e=l.users;n.totalPages=l.totalPages,n.users=n.filterUsers(e),n.filter(n.searchTerm)}).catch(function(l){return n.utils.simpleToastError(l+"\n"+c.h.SOMETHING_WENT_WRONG)})},n.prototype.filterUsers=function(n){return n},n.prototype.filter=function(n){if(o.a.log(this.logHeader+"filter>>"),o.a.isStringInvalid(n))this.userList=this.users;else{var l=n;this.searchTerm=l,this.userList=l?this.users.filter(function(n){return n.getNome().toLowerCase().includes(l.toLowerCase())||n.getEmail().toLowerCase().includes(l.toLowerCase())}):this.users}},n.prototype.abrirActionSheet=function(n){return s.b(this,void 0,void 0,function(){var l=this;return s.e(this,function(e){switch(e.label){case 0:return[4,this.actionSheetController.create({header:c.g.WHAT_DO_YOU_WANT_TO_DO,buttons:[{text:c.g.ADD_POINTS,handler:function(){l.presentPopOver(n)}},{text:c.g.REMOVE_POINTS,role:"destructive",handler:function(){l.presentPopOverDel(n)}},{text:c.g.CANCEL,role:"cancel",handler:function(){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.presentPopOver=function(n){return void 0===n&&(n=void 0),s.b(this,void 0,void 0,function(){var l;return s.e(this,function(e){switch(e.label){case 0:return l=o.a.isArrayInvalid(this.selectedUsers)?[n.getId()]:this.selectedUsers,[4,this.popoverController.create({component:a.a,showBackdrop:!0,backdropDismiss:!1,componentProps:{users:l,remove:!1}})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.presentPopOverDel=function(n){return void 0===n&&(n=void 0),s.b(this,void 0,void 0,function(){var l,e,t=this;return s.e(this,function(s){switch(s.label){case 0:return l=o.a.isArrayInvalid(this.selectedUsers)?[n.getId()]:this.selectedUsers,[4,this.popoverController.create({component:a.a,showBackdrop:!0,backdropDismiss:!1,componentProps:{users:l,remove:!0}})];case 1:return[4,(e=s.sent()).present()];case 2:return s.sent(),e.onDidDismiss().then(function(){t.page=1,t.infiniteScroll.disabled=t.page>=t.totalPages,t.getUsers()}),[2]}})})},n.prototype.userChange=function(n,l,e){void 0===e&&(e=void 0),l?this.selectedUsers.indexOf(n.getId())<0&&this.selectedUsers.push(n.getId()):this.selectedUsers.splice(this.selectedUsers.indexOf(n.getId()),1)},n.prototype.loadData=function(n){var l=this;this.page++,this.infiniteScroll=n.target,this.api.getUsers(this.page).then(function(n){l.imageConcatString=o.a.generateRandomString();var e=n.users;l.totalPages=n.totalPages,l.users=l.filterUsers(l.users.concat(e)),l.filter(l.searchTerm),l.infiniteScroll.complete(),l.infiniteScroll.disabled=l.page>=l.totalPages}).catch(function(n){return l.utils.simpleToastError(n+"\n"+c.h.SOMETHING_WENT_WRONG)})},n.prototype.openMenu=function(n){return s.b(this,void 0,void 0,function(){return s.e(this,function(l){switch(l.label){case 0:return[4,this.popoverController.create({component:b.a,event:n,animated:!0,showBackdrop:!0,translucent:!0,cssClass:"popover_class"})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.DismissClick=function(){return s.b(this,void 0,void 0,function(){return s.e(this,function(n){switch(n.label){case 0:return[4,this.popoverController.dismiss()];case 1:return n.sent(),[2]}})})},n.prototype.navigateDashboard=function(){this.router.navigate(["admin","dashboard"])},n}(),p=function(){return function(){}}(),g=e("NcP4"),f=e("pMnS"),v=e("Ip0R"),m=e("oBZk"),A=e("gIcY"),C=e("ZYCi"),k=t.qb({encapsulation:0,styles:[[""]],data:{}});function S(n){return t.Lb(0,[(n()(),t.sb(0,0,null,null,0,"i",[["class","fas fa-ellipsis-v"],["slot","end"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.abrirActionSheet(n.parent.context.$implicit)&&t),t},null,null))],null,null)}function w(n){return t.Lb(0,[(n()(),t.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),t.rb(1,278528,null,0,v.j,[t.u,t.v,t.k,t.G],{ngClass:[0,"ngClass"]},null),t.Eb(2,{"checkbox-inactive":0}),(n()(),t.sb(3,0,null,null,21,"ion-item",[["no-lines",""]],null,null,null,m.hb,m.t)),t.rb(4,49152,null,0,r.J,[t.h,t.k,t.B],null,null),(n()(),t.sb(5,0,null,0,6,"ion-checkbox",[["class","checkbox-ui"],["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var s=!0,u=n.component;return"ionBlur"===l&&(s=!1!==t.Cb(n,6)._handleBlurEvent(e.target)&&s),"ionChange"===l&&(s=!1!==t.Cb(n,6)._handleIonChange(e.target)&&s),"ngModelChange"===l&&(s=!1!==(n.context.$implicit.checked=e)&&s),"ngModelChange"===l&&(s=!1!==u.userChange(n.context.$implicit,e)&&s),s},m.T,m.i)),t.rb(6,16384,null,0,r.d,[t.k],null,null),t.Gb(1024,null,A.l,function(n){return[n]},[r.d]),t.rb(8,671744,null,0,A.q,[[8,null],[8,null],[8,null],[6,A.l]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,A.m,null,[A.q]),t.rb(10,16384,null,0,A.n,[[4,A.m]],null,null),t.rb(11,49152,null,0,r.t,[t.h,t.k,t.B],{disabled:[0,"disabled"]},null),(n()(),t.sb(12,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,m.M,m.b)),t.rb(13,49152,null,0,r.h,[t.h,t.k,t.B],null,null),(n()(),t.sb(14,0,null,0,0,"img",[["onError","src = '../assets/imgs/user.png'"]],[[8,"src",4]],null,null,null,null)),(n()(),t.sb(15,0,null,0,5,"ion-label",[],null,null,null,m.ib,m.x)),t.rb(16,49152,null,0,r.P,[t.h,t.k,t.B],null,null),(n()(),t.sb(17,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Jb(18,null,["",""])),(n()(),t.sb(19,0,null,0,1,"p",[["class","email"]],null,null,null,null,null)),(n()(),t.Jb(20,null,["",""])),(n()(),t.sb(21,0,null,0,1,"span",[["class","badge badge-pontos"]],null,null,null,null,null)),(n()(),t.Jb(22,null,["",""])),(n()(),t.jb(16777216,null,0,1,null,S)),t.rb(24,16384,null,0,v.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component,t=n(l,2,0,!l.context.$implicit.ativo);n(l,1,0,t),n(l,8,0,!l.context.$implicit.ativo,l.context.$implicit.checked),n(l,11,0,!l.context.$implicit.ativo),n(l,24,0,!e.multicheck)},function(n,l){var e=l.component;n(l,5,0,t.Cb(l,10).ngClassUntouched,t.Cb(l,10).ngClassTouched,t.Cb(l,10).ngClassPristine,t.Cb(l,10).ngClassDirty,t.Cb(l,10).ngClassValid,t.Cb(l,10).ngClassInvalid,t.Cb(l,10).ngClassPending);var s=t.ub(1,"",l.context.$implicit.getFoto()+"?"+e.imageConcatString,"");n(l,14,0,s),n(l,18,0,l.context.$implicit.nome),n(l,20,0,l.context.$implicit.email),n(l,22,0,l.context.$implicit.saldo)})}function B(n){return t.Lb(0,[t.Hb(402653184,1,{infiniteScroll:0}),(n()(),t.sb(1,0,null,null,25,"ion-header",[],null,null,null,m.ab,m.p)),t.rb(2,49152,null,0,r.D,[t.h,t.k,t.B],null,null),(n()(),t.sb(3,0,null,0,7,"ion-toolbar",[],null,null,null,m.vb,m.K)),t.rb(4,49152,null,0,r.Eb,[t.h,t.k,t.B],null,null),(n()(),t.sb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.P,m.e)),t.rb(6,49152,null,0,r.n,[t.h,t.k,t.B],null,null),(n()(),t.sb(7,0,null,0,2,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,m.kb,m.A)),t.rb(8,49152,null,0,r.U,[t.h,t.k,t.B],null,null),(n()(),t.sb(9,0,null,0,0,"i",[["class","fas fa-align-left icon-menu"]],null,null,null,null,null)),(n()(),t.sb(10,0,null,0,0,"i",[["class","fas fa-ellipsis-h dot-ico"],["slot","end"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openMenu(e)&&t),t},null,null)),(n()(),t.sb(11,0,null,0,9,"ion-toolbar",[["class","no-radius"]],null,null,null,m.vb,m.K)),t.rb(12,49152,null,0,r.Eb,[t.h,t.k,t.B],null,null),(n()(),t.sb(13,0,null,0,1,"span",[["class","title_t"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["Gest\xe3o"])),(n()(),t.sb(15,0,null,0,1,"span",[["class","title_w"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["de Pontos Usu\xe1rios "])),(n()(),t.sb(17,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,m.P,m.e)),t.rb(18,49152,null,0,r.n,[t.h,t.k,t.B],null,null),(n()(),t.sb(19,0,null,0,1,"ion-icon",[["class","back-btn-dash"],["name","arrow-back"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.navigateDashboard()&&t),t},m.bb,m.q)),t.rb(20,49152,null,0,r.E,[t.h,t.k,t.B],{name:[0,"name"]},null),(n()(),t.sb(21,0,null,0,5,"ion-toolbar",[],null,null,null,m.vb,m.K)),t.rb(22,49152,null,0,r.Eb,[t.h,t.k,t.B],null,null),(n()(),t.sb(23,0,null,0,3,"ion-searchbar",[["animated",""],["placeholder","Pesquisar"]],null,[[null,"ionInput"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var s=!0,u=n.component;return"ionBlur"===l&&(s=!1!==t.Cb(n,26)._handleBlurEvent(e.target)&&s),"ionChange"===l&&(s=!1!==t.Cb(n,26)._handleInputEvent(e.target)&&s),"ionInput"===l&&(s=!1!==u.filter(e.srcElement.value)&&s),s},m.nb,m.C)),t.Gb(5120,null,A.l,function(n){return[n]},[r.Rb]),t.rb(25,49152,null,0,r.mb,[t.h,t.k,t.B],{animated:[0,"animated"],placeholder:[1,"placeholder"]},null),t.rb(26,16384,null,0,r.Rb,[t.k],null,null),(n()(),t.sb(27,0,null,null,8,"ion-content",[["class","app-members"],["padding","true"]],null,null,null,m.V,m.k)),t.rb(28,49152,null,0,r.w,[t.h,t.k,t.B],null,null),t.rb(29,16384,null,0,r.f,[t.k],null,null),(n()(),t.jb(16777216,null,0,1,null,w)),t.rb(31,278528,null,0,v.k,[t.R,t.O,t.u],{ngForOf:[0,"ngForOf"]},null),(n()(),t.sb(32,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadData(e)&&t),t},m.db,m.r)),t.rb(33,49152,[[1,4]],0,r.G,[t.h,t.k,t.B],{threshold:[0,"threshold"]},null),(n()(),t.sb(34,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","dots"],["loadingText","Carregando mais..."]],null,null,null,m.cb,m.s)),t.rb(35,49152,null,0,r.H,[t.h,t.k,t.B],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(n,l){var e=l.component;n(l,20,0,"arrow-back"),n(l,25,0,"","Pesquisar"),n(l,31,0,e.userList),n(l,33,0,"100px"),n(l,35,0,"dots","Carregando mais...")},null)}function P(n){return t.Lb(0,[(n()(),t.sb(0,0,null,null,1,"app-users",[],null,null,null,B,k)),t.rb(1,49152,null,0,h,[u.a,r.Ob,i.a,r.a,o.a,r.Kb,r.b,d.a,C.n],null,null)],null,null)}var x=t.ob("app-users",h,P,{},{},[]),I=e("wmQ5"),U=e("Wf4p"),O=e("M2Lx"),y=e("eDkP"),D=e("Fzqc"),T=e("uGex"),E=e("v9Dh"),_=e("ZYjt"),L=e("4epT"),G=e("OkvK"),M=e("y4qS"),j=e("BHnd"),N=e("4c35"),R=e("dWZg"),q=e("UodH"),H=e("Lwpp"),$=e("SMsm"),K=e("seP3"),V=e("/VYK"),J=e("b716"),W=e("qAlS"),Z=e("lLAP"),F=e("de3e"),Y=e("vvyD");e.d(l,"UsersPageModuleNgFactory",function(){return z});var z=t.pb(p,[],function(n){return t.zb([t.Ab(512,t.j,t.eb,[[8,[g.a,f.a,x]],[3,t.j],t.z]),t.Ab(4608,v.n,v.m,[t.w,[2,v.x]]),t.Ab(4608,A.v,A.v,[]),t.Ab(4608,r.c,r.c,[t.B,t.g]),t.Ab(4608,r.Kb,r.Kb,[r.c,t.j,t.s]),t.Ab(4608,r.Ob,r.Ob,[r.c,t.j,t.s]),t.Ab(5120,I.b,I.a,[[3,I.b]]),t.Ab(4608,U.d,U.d,[]),t.Ab(4608,O.c,O.c,[]),t.Ab(4608,y.c,y.c,[y.h,y.d,t.j,y.g,y.e,t.s,t.B,v.d,D.b,[2,v.h]]),t.Ab(5120,y.i,y.j,[y.c]),t.Ab(5120,T.a,T.b,[y.c]),t.Ab(5120,E.a,E.b,[y.c]),t.Ab(4608,_.f,U.e,[[2,U.i],[2,U.n]]),t.Ab(5120,L.b,L.a,[[3,L.b]]),t.Ab(5120,G.b,G.a,[[3,G.b]]),t.Ab(1073742336,v.c,v.c,[]),t.Ab(1073742336,A.t,A.t,[]),t.Ab(1073742336,A.j,A.j,[]),t.Ab(1073742336,r.Gb,r.Gb,[]),t.Ab(1073742336,M.o,M.o,[]),t.Ab(1073742336,D.a,D.a,[]),t.Ab(1073742336,U.n,U.n,[[2,U.f],[2,_.g]]),t.Ab(1073742336,j.a,j.a,[]),t.Ab(1073742336,N.c,N.c,[]),t.Ab(1073742336,R.b,R.b,[]),t.Ab(1073742336,U.w,U.w,[]),t.Ab(1073742336,q.a,q.a,[]),t.Ab(1073742336,H.e,H.e,[]),t.Ab(1073742336,$.c,$.c,[]),t.Ab(1073742336,I.c,I.c,[]),t.Ab(1073742336,O.d,O.d,[]),t.Ab(1073742336,K.d,K.d,[]),t.Ab(1073742336,V.c,V.c,[]),t.Ab(1073742336,J.b,J.b,[]),t.Ab(1073742336,U.u,U.u,[]),t.Ab(1073742336,U.s,U.s,[]),t.Ab(1073742336,W.b,W.b,[]),t.Ab(1073742336,y.f,y.f,[]),t.Ab(1073742336,T.d,T.d,[]),t.Ab(1073742336,Z.a,Z.a,[]),t.Ab(1073742336,E.c,E.c,[]),t.Ab(1073742336,L.c,L.c,[]),t.Ab(1073742336,G.c,G.c,[]),t.Ab(1073742336,F.a,F.a,[]),t.Ab(1073742336,Y.a,Y.a,[]),t.Ab(1073742336,C.q,C.q,[[2,C.w],[2,C.n]]),t.Ab(1073742336,p,p,[]),t.Ab(1024,C.l,function(){return[[{path:"",component:h}]]},[])])})}}]);